<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simpson's Paradox</title>

    <!-- Libraries -->
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.8.0/d3.min.js"></script>    
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.4/d3.js"></script>-->


    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/scroll.css" />

    <!-- your script file -->
    <script src="js/BarChart.js"></script>
    <script src="js/DonutChart.js"></script>
    <script src="js/scroll.js"></script>
    <script src="js/main.js"></script>
    <script src="js/StackedBarChart.js"></script>
</head>

<body>
    <div class="container" ng-app="myApp" id="app" ng-controller="MainController">
        <h1>Simpson's Paradox</h1><br>
        <div id="sandbox">
            <div id='graphic'>
                <div id='sections'>
                    <section class="step" id="nograph">
                        <div class="title">History of Paradox</div><br>
                        <div class="descr">In 1951, a British statistician named Edward H. Simpson discovered a statistical phenomenon, which thereafter became known as Simpson’s Paradox. Other statisticians had mentioned similar effects earlier but Simpson was the first to truly describe this phenomenon in a technical paper. This paradox is used in statistics to illustrate the care that statisticians need to take when interpreting data because it can lead to false conclusions. Indeed, many statisticians believe that the mainstream public should be aware of the counter-intuitive results frequently found in statistics since statistics can shape public opinion. One of the best-known examples of Simpson's paradox is a study of gender bias among graduate school admissions to University of California, Berkeley. </div>
                    </section>
                    <section class="step">
                        <div class="title">Overall Accpetance Rate</div><br>
                        <div class="descr">In 1973, the University of California-Berkeley was sued for gender discrimination in graduate school admissions. At the surface level it appeared to be discrimination against women because they accepted 44% of male applicants but only 35% of female applicants. But, was this really the case?</div>
                    </section>
                    <section class="step">
                        <div class="title">Acceptance Rate for Department A</div><br>
                        <div class="descr">When researchers looked into the data, they found that for department A, 62% of male applicants were accepted and 82% of female applicants were accepted. So for department A it seemed as if the admissions office favored female applicants.</div>
                    </section>
                    <section class="step">
                        <div class="title">Acceptance Rate for Department B</div><br>
                        <div class="descr">Data from department B showed similar results. The department accepted 63% of male applicants and 67% of female applicants. So maybe there wasn’t any gender discrimination after all. This is a textbook case of Simpson’s Paradox. </div>
                    </section>
                    <section class="step" id="nograph">
                        <div class="title">What is Simpson’s Paradox?</div><br>
                        <div class='descr'>What Simpson realized was that if you analyze some data sets in one way—first breaking them down by let’s say two variables and getting a specific result—and then analyze the same data sets by breaking them down further with a third variable, the results switch direction.

In short, Simpson’s Paradox is a statistical phenomenon in which a trend appears in different groups of data but disappears or reverses when these groups are combined. And these results appear to be in direct contradiction to one another.</div>
                        <!-- another section -->
                    </section>
                    <section class="step" id="nograph">
                        <div class="title">How Does it Work Exactly?
</div><br>
                        <div class="descr">We’ll break down this concept by using an example that is from a real-life medical study comparing the <b>success rate of two treatments for kidney stones</b>. First, imagine that you are the patient in this scenario and you know that you have a kidney stone. <br><br>For the graph below, <span id='purple'><b>purple bars</b></span> mean success cases and <span id="grey"><b>grey bars</b></span> mean fail cases.</div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">In this case, there are two treatments offered: treatment A and B. Treatment A is more complicated and requires surgical procedures, whereas treatment B only involves a small puncture and is simple. If you take a look to the right, you can see that overall Treatment A has a success rate of <b>78%</b> and Treatment B has a rate of <b>83%</b>. <br><br><em>Which treatment would you choose based on this information?</em></div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">Now, you might think that the obvious choice is <b>Treatment B</b>, since it has a higher rate. <br><br>But if you dig a little deeper into the data, you’ll find that for <b>small kidney stones</b>, the success rate of <b>Treatment A is 93.1%</b> (81 success cases out of 87 patients) and the success rate of <b>Treatment B is 86.7%</b> (234 success cases out of 270 patients). <br><br><em>Which treatment would you choose now?</em> 
</div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">You might think Treatment A is better for small kidney stones. <br><br> Let's take a look at the breakdown for <b>large kidney stone</b>. The rate of <b>Treatment A is 73%</b> (192 success cases out of 268 patients) and the success rate of <b>Treatment B is 68.8%</b> (55 success cases out of 80 patients). <br><br> <b>Treatment A here still has a higher success rate for large kidney stone.</b></div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">So why does this happen? The underlying cause for this puzzling trend in the data was due to <b>a “lurking” variable </b>(also sometimes referred to as a confounding variable). In this situation the lurking variable was the <b>severity of the case</b> combined with the <b>volume of patients treated </b>(or cases). This was represented by the doctors’ decision trend of favoring treatment B for less severe cases.  <br><br>On the right you can see that for Treatment B there were total <b>270 small kidney stone patients</b> while there were only <b>80 large kidney stone patients</b>.</div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">On the other hand, Treatment A got more severe cases. There were only <b>87 small kidney stone cases</b> and <b>263 large kidney stone patients</b>. <br><br>The reversal of the trend between data sets’ ratios occurs when <b>highly different sizes of data groups are combined and the lurking variable is ignored</b>.</div>
                    </section>
                    <section class="step">
                        <!-- <div class="title">Acceptance Rate for Department B</div><br> -->
                        <div class="descr">Overall, the success rates were more strongly influenced by the severity of the case than by the choice of treatment. As a result, patients with large stones using treatment A were worse off than the group of patients with small stones (even if the latter used the inferior treatment B).

In the end, treatment A is still the better treatment but when treatment B is applied more frequently to less severe cases it can appear to be more effective.
<br><br>So if the researchers did <b>separate the patients evenly between different treatments for different severity</b>, we can see that <b>Treatment A will have a higher success rate of 82.9%</b> and <b>Treatment B will only have a success rate of 77.1%.</b></div>
                    </section>
                    <section class="step" id="nograph">
                        <div class="title">Conclusion</div><br>
                        <div class="descr">It’s important to be aware of Simpson’s Paradox because this phenomenon is surprisingly common and comes up in things such as the news or academic studies, and therefore can misinform the public. By having a basic understanding of what the paradox is, one can think more critically about statistics being presented to them and can correct whatever misconceptions may arise from the data. <br><br>

You can avoid Simpson’s Paradox by making sure that obvious lurking variables are included in a study; that way, when you look at the data you get the relationships right the first time, and no room exists for misconstruing the results.
</div>
                    </section>
                </div>
                <div id='vis'></div>
                <div id='vis2'></div>
                <div id='vis3'></div>
                <div id='vis4'></div>
            </div>
        </div>
</body>

</html>